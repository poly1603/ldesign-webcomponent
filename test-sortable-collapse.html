<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¯æ’åºæŠ˜å é¢æ¿æµ‹è¯• - å¸¦ç®­å¤´åŠ¨ç”»</title>
    <script src="dist/ldesign/ldesign.esm.js" type="module"></script>
    <link rel="stylesheet" href="dist/ldesign/ldesign.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }
        
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 10px;
            font-size: 28px;
        }
        
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
        }
        
        .controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        .status {
            padding: 15px;
            background: #f0f8ff;
            border-left: 4px solid #1890ff;
            margin-bottom: 20px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }
        
        .panel-content {
            padding: 15px;
            background: #fafafa;
            border-radius: 4px;
            line-height: 1.6;
        }
        
        .animation-info {
            background: #fff3e0;
            padding: 10px;
            border-radius: 4px;
            margin-bottom: 20px;
            font-size: 14px;
            color: #ff6b00;
        }
        
        .test-section {
            margin-bottom: 30px;
        }
        
        .section-title {
            font-size: 18px;
            color: #333;
            margin-bottom: 15px;
            padding-bottom: 5px;
            border-bottom: 2px solid #764ba2;
        }
        
        .drag-hint {
            background: #e8f4fd;
            padding: 10px;
            border-radius: 4px;
            margin-bottom: 15px;
            font-size: 14px;
            color: #1890ff;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¨ å¯æ’åºæŠ˜å é¢æ¿æµ‹è¯•</h1>
        <p class="subtitle">éªŒè¯æ‹–æ‹½æ’åºåŠŸèƒ½å’Œç®­å¤´æ—‹è½¬åŠ¨ç”»</p>
        
        <div class="animation-info">
            âš¡ æ³¨æ„è§‚å¯Ÿç®­å¤´å›¾æ ‡çš„æ—‹è½¬åŠ¨ç”»æ•ˆæœï¼ˆ90åº¦æ—‹è½¬ï¼‰
        </div>
        
        <!-- æµ‹è¯•1: å¯æ’åºæŠ˜å é¢æ¿ -->
        <div class="test-section">
            <h2 class="section-title">1. å¯æ‹–æ‹½æ’åºçš„æŠ˜å é¢æ¿</h2>
            <div class="drag-hint">
                ğŸ’¡ æç¤ºï¼šæ‹–æ‹½é¢æ¿å¤´éƒ¨å¯ä»¥é‡æ–°æ’åºï¼Œå±•å¼€/æ”¶èµ·æ—¶è§‚å¯Ÿç®­å¤´åŠ¨ç”»
            </div>
            
            <div class="controls">
                <button onclick="toggleSortable()">åˆ‡æ¢æ’åºåŠŸèƒ½</button>
                <button onclick="expandAll1()">å±•å¼€å…¨éƒ¨</button>
                <button onclick="collapseAll1()">æ”¶èµ·å…¨éƒ¨</button>
                <button onclick="resetOrder()">é‡ç½®é¡ºåº</button>
            </div>
            
            <div class="status" id="status1">
                æ’åºåŠŸèƒ½ï¼š<span id="sortable-status">å¯ç”¨</span> | 
                å±•å¼€çŠ¶æ€ï¼š<span id="panels-status">[]</span>
            </div>
            
            <ldesign-collapse 
                id="collapse1" 
                sortable
                animation-duration="300"
                animation-easing="cubic-bezier(0.4, 0, 0.2, 1)"
            >
                <ldesign-collapse-panel name="panel1" header="ğŸ“¦ é¢æ¿ 1 - äº§å“ä»‹ç»">
                    <div class="panel-content">
                        <strong>äº§å“ç‰¹ç‚¹ï¼š</strong><br>
                        â€¢ é«˜æ€§èƒ½ç»„ä»¶åº“<br>
                        â€¢ æ”¯æŒä¸»é¢˜å®šåˆ¶<br>
                        â€¢ å®Œå–„çš„æ–‡æ¡£æ”¯æŒ<br>
                        â€¢ ä¸°å¯Œçš„åŠ¨ç”»æ•ˆæœ<br>
                        <br>
                        æ‹–æ‹½æ­¤é¢æ¿å¤´éƒ¨å¯ä»¥æ”¹å˜é¡ºåºï¼
                    </div>
                </ldesign-collapse-panel>
                
                <ldesign-collapse-panel name="panel2" header="ğŸ¯ é¢æ¿ 2 - æ ¸å¿ƒåŠŸèƒ½">
                    <div class="panel-content">
                        <strong>æ ¸å¿ƒåŠŸèƒ½åŒ…æ‹¬ï¼š</strong><br>
                        â€¢ æ‹–æ‹½æ’åº<br>
                        â€¢ å¹³æ»‘åŠ¨ç”»<br>
                        â€¢ æ‰‹é£ç´æ¨¡å¼<br>
                        â€¢ é”®ç›˜å¯¼èˆª<br>
                        â€¢ è§¦æ‘¸æ‰‹åŠ¿æ”¯æŒ<br>
                        <br>
                        æ³¨æ„ç®­å¤´å›¾æ ‡çš„æ—‹è½¬åŠ¨ç”»ï¼
                    </div>
                </ldesign-collapse-panel>
                
                <ldesign-collapse-panel name="panel3" header="ğŸš€ é¢æ¿ 3 - å¿«é€Ÿå¼€å§‹">
                    <div class="panel-content">
                        <strong>ä½¿ç”¨æ­¥éª¤ï¼š</strong><br>
                        1. å®‰è£…ç»„ä»¶åº“<br>
                        2. å¼•å…¥æ ·å¼æ–‡ä»¶<br>
                        3. æ³¨å†Œç»„ä»¶<br>
                        4. å¼€å§‹ä½¿ç”¨<br>
                        <br>
                        è¿™ä¸ªé¢æ¿ä¹Ÿå¯ä»¥è¢«æ‹–åŠ¨ï¼
                    </div>
                </ldesign-collapse-panel>
                
                <ldesign-collapse-panel name="panel4" header="ğŸ’¡ é¢æ¿ 4 - æœ€ä½³å®è·µ">
                    <div class="panel-content">
                        <strong>æœ€ä½³å®è·µå»ºè®®ï¼š</strong><br>
                        â€¢ åˆç†ä½¿ç”¨åŠ¨ç”»æ•ˆæœ<br>
                        â€¢ ä¿æŒäº¤äº’ä¸€è‡´æ€§<br>
                        â€¢ ä¼˜åŒ–æ€§èƒ½è¡¨ç°<br>
                        â€¢ æä¾›é”®ç›˜æ”¯æŒ<br>
                        â€¢ æ³¨æ„æ— éšœç¢è®¿é—®<br>
                    </div>
                </ldesign-collapse-panel>
            </ldesign-collapse>
        </div>
        
        <!-- æµ‹è¯•2: ä¸åŒåŠ¨ç”»é…ç½® -->
        <div class="test-section">
            <h2 class="section-title">2. ä¸åŒåŠ¨ç”»é…ç½®æµ‹è¯•</h2>
            
            <div class="controls">
                <button onclick="setFastAnimation()">å¿«é€ŸåŠ¨ç”» (150ms)</button>
                <button onclick="setSlowAnimation()">æ…¢é€ŸåŠ¨ç”» (600ms)</button>
                <button onclick="setSpringAnimation()">å¼¹æ€§åŠ¨ç”»</button>
                <button onclick="setSmoothAnimation()">å¹³æ»‘åŠ¨ç”»</button>
            </div>
            
            <ldesign-collapse 
                id="collapse2"
                animation-duration="300"
                icon-rotation="180"
            >
                <ldesign-collapse-panel header="ğŸ¨ 180åº¦æ—‹è½¬åŠ¨ç”»" name="animation1">
                    <div class="panel-content">
                        è¿™ä¸ªé¢æ¿çš„ç®­å¤´ä¼šæ—‹è½¬180åº¦ï¼<br>
                        åŠ¨ç”»æ—¶é•¿å¯ä»¥é€šè¿‡æŒ‰é’®è°ƒæ•´ã€‚
                    </div>
                </ldesign-collapse-panel>
                
                <ldesign-collapse-panel header="ğŸ”„ é»˜è®¤90åº¦æ—‹è½¬" name="animation2">
                    <div class="panel-content">
                        æ ‡å‡†çš„90åº¦æ—‹è½¬æ•ˆæœã€‚<br>
                        å°è¯•ä¸åŒçš„åŠ¨ç”»é¢„è®¾ï¼
                    </div>
                </ldesign-collapse-panel>
            </ldesign-collapse>
        </div>
        
        <!-- æµ‹è¯•3: åµŒå¥—é¢æ¿ -->
        <div class="test-section">
            <h2 class="section-title">3. åµŒå¥—æŠ˜å é¢æ¿</h2>
            
            <ldesign-collapse id="collapse3">
                <ldesign-collapse-panel header="ğŸ  çˆ¶çº§é¢æ¿" name="parent1">
                    <div class="panel-content">
                        <p>è¿™æ˜¯çˆ¶çº§é¢æ¿çš„å†…å®¹</p>
                        
                        <ldesign-collapse>
                            <ldesign-collapse-panel header="ğŸ“‚ å­é¢æ¿ 1" name="child1">
                                <div class="panel-content">
                                    å­é¢æ¿ 1 çš„å†…å®¹ï¼Œæ³¨æ„ç®­å¤´åŠ¨ç”»æ˜¯ç‹¬ç«‹çš„
                                </div>
                            </ldesign-collapse-panel>
                            
                            <ldesign-collapse-panel header="ğŸ“ å­é¢æ¿ 2" name="child2">
                                <div class="panel-content">
                                    å­é¢æ¿ 2 çš„å†…å®¹ï¼Œæ¯ä¸ªé¢æ¿éƒ½æœ‰ç‹¬ç«‹çš„åŠ¨ç”»
                                </div>
                            </ldesign-collapse-panel>
                        </ldesign-collapse>
                    </div>
                </ldesign-collapse-panel>
            </ldesign-collapse>
        </div>
    </div>
    
    <script>
        // è·å–ç»„ä»¶å¼•ç”¨
        const collapse1 = document.getElementById('collapse1');
        const collapse2 = document.getElementById('collapse2');
        const collapse3 = document.getElementById('collapse3');
        
        // ç›‘å¬äº‹ä»¶
        collapse1.addEventListener('ldesignChange', (e) => {
            updateStatus();
            console.log('å±•å¼€é¢æ¿å˜åŒ–:', e.detail);
        });
        
        collapse1.addEventListener('ldesignSortChange', (e) => {
            console.log('æ’åºå˜åŒ–:', e.detail);
            alert(`é¢æ¿ "${e.detail.panelName}" ä»ä½ç½® ${e.detail.from + 1} ç§»åŠ¨åˆ°ä½ç½® ${e.detail.to + 1}`);
        });
        
        // åˆ‡æ¢æ’åºåŠŸèƒ½
        function toggleSortable() {
            collapse1.sortable = !collapse1.sortable;
            document.getElementById('sortable-status').textContent = 
                collapse1.sortable ? 'å¯ç”¨' : 'ç¦ç”¨';
        }
        
        // å±•å¼€å…¨éƒ¨
        function expandAll1() {
            collapse1.expandAll();
            updateStatus();
        }
        
        // æ”¶èµ·å…¨éƒ¨
        function collapseAll1() {
            collapse1.collapseAll();
            updateStatus();
        }
        
        // é‡ç½®é¡ºåº
        function resetOrder() {
            const container = collapse1;
            const panels = Array.from(container.querySelectorAll('ldesign-collapse-panel'));
            
            // æŒ‰ç…§ name å±æ€§æ’åº
            panels.sort((a, b) => {
                const nameA = a.getAttribute('name');
                const nameB = b.getAttribute('name');
                return nameA.localeCompare(nameB);
            });
            
            // é‡æ–°æ’å…¥åˆ°å®¹å™¨ä¸­
            panels.forEach(panel => {
                container.appendChild(panel);
            });
            
            alert('é¢æ¿é¡ºåºå·²é‡ç½®ï¼');
        }
        
        // æ›´æ–°çŠ¶æ€æ˜¾ç¤º
        function updateStatus() {
            const openPanels = collapse1.value || [];
            document.getElementById('panels-status').textContent = 
                JSON.stringify(openPanels);
        }
        
        // åŠ¨ç”»é…ç½®å‡½æ•°
        function setFastAnimation() {
            collapse2.animationDuration = 150;
            Array.from(collapse2.querySelectorAll('ldesign-collapse-panel')).forEach(panel => {
                panel.animationDuration = 150;
            });
            console.log('è®¾ç½®å¿«é€ŸåŠ¨ç”» (150ms)');
        }
        
        function setSlowAnimation() {
            collapse2.animationDuration = 600;
            Array.from(collapse2.querySelectorAll('ldesign-collapse-panel')).forEach(panel => {
                panel.animationDuration = 600;
            });
            console.log('è®¾ç½®æ…¢é€ŸåŠ¨ç”» (600ms)');
        }
        
        function setSpringAnimation() {
            collapse2.animationEasing = 'cubic-bezier(0.68, -0.55, 0.265, 1.55)';
            Array.from(collapse2.querySelectorAll('ldesign-collapse-panel')).forEach(panel => {
                panel.animationEasing = 'cubic-bezier(0.68, -0.55, 0.265, 1.55)';
                panel.animationPreset = 'spring';
            });
            console.log('è®¾ç½®å¼¹æ€§åŠ¨ç”»');
        }
        
        function setSmoothAnimation() {
            collapse2.animationEasing = 'cubic-bezier(0.4, 0, 0.2, 1)';
            Array.from(collapse2.querySelectorAll('ldesign-collapse-panel')).forEach(panel => {
                panel.animationEasing = 'cubic-bezier(0.4, 0, 0.2, 1)';
                panel.animationPreset = 'smooth';
            });
            console.log('è®¾ç½®å¹³æ»‘åŠ¨ç”»');
        }
        
        // åˆå§‹åŒ–çŠ¶æ€
        updateStatus();
    </script>
</body>
</html>