<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¼©ç•¥å›¾å¯¼èˆªæµ‹è¯•</title>
    <script type="module" src="/build/ldesign.esm.js"></script>
    <script nomodule src="/build/ldesign.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            background: #1a1a1a;
            color: white;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        h1 {
            text-align: center;
            margin-bottom: 30px;
        }
        .demo-box {
            background: #2a2a2a;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }
        .demo-title {
            font-size: 1.2rem;
            margin-bottom: 15px;
            color: #4c9ffe;
        }
        .demo-container {
            height: 500px;
            border: 2px dashed #444;
            border-radius: 8px;
            overflow: hidden;
            position: relative;
            background: #1a1a1a;
        }
        .controls {
            margin-top: 15px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        button {
            padding: 8px 16px;
            background: #4c9ffe;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
        }
        button:hover {
            background: #6cafff;
        }
        .info {
            margin-top: 10px;
            padding: 10px;
            background: rgba(76, 159, 254, 0.1);
            border-radius: 6px;
            font-size: 14px;
        }
        .tips {
            margin-top: 10px;
            color: #999;
            font-size: 13px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ—ºï¸ ç¼©ç•¥å›¾å¯¼èˆªåŠŸèƒ½æµ‹è¯•</h1>

        <!-- æµ‹è¯•1ï¼šåŸºç¡€ç¼©ç•¥å›¾ -->
        <div class="demo-box">
            <h2 class="demo-title">åŸºç¡€ç¼©ç•¥å›¾å¯¼èˆª</h2>
            <div class="demo-container">
                <ldesign-draggable 
                    id="demo1"
                    src="https://picsum.photos/id/1049/2000/1500"
                    style="width:100%;height:100%"
                    show-minimap
                    minimap-position="top-right"
                    show-controls
                    show-indicators
                    initial-scale="2"
                ></ldesign-draggable>
            </div>
            <div class="info">
                <strong>åŠŸèƒ½è¯´æ˜ï¼š</strong>
                <ul style="margin: 5px 0 0 20px;">
                    <li>å³ä¸Šè§’æ˜¾ç¤ºç¼©ç•¥å›¾å¯¼èˆª</li>
                    <li>è“è‰²æ¡†è¡¨ç¤ºå½“å‰è§†å£ä½ç½®</li>
                    <li>ç‚¹å‡»ç¼©ç•¥å›¾å¯ä»¥å¿«é€Ÿå¯¼èˆª</li>
                    <li>è§†å£æ¡†ä¼šéšç€ç¼©æ”¾å’Œå¹³ç§»å®æ—¶æ›´æ–°</li>
                </ul>
            </div>
            <div class="tips">
                ğŸ’¡ æç¤ºï¼šè¯•ç€ç¼©æ”¾å’Œæ‹–æ‹½ç”»é¢ï¼Œè§‚å¯Ÿç¼©ç•¥å›¾ä¸­çš„è§†å£æ¡†å˜åŒ–
            </div>
        </div>

        <!-- æµ‹è¯•2ï¼šä¸åŒä½ç½®çš„ç¼©ç•¥å›¾ -->
        <div class="demo-box">
            <h2 class="demo-title">ä¸åŒä½ç½®çš„ç¼©ç•¥å›¾</h2>
            <div class="demo-container">
                <ldesign-draggable 
                    id="demo2"
                    src="https://picsum.photos/id/1043/1600/1200"
                    style="width:100%;height:100%"
                    show-minimap
                    minimap-position="bottom-left"
                    show-controls
                    controls-position="top-right"
                    initial-scale="1.5"
                ></ldesign-draggable>
            </div>
            <div class="controls">
                <button onclick="changeMinimapPosition('top-left')">å·¦ä¸Š</button>
                <button onclick="changeMinimapPosition('top-right')">å³ä¸Š</button>
                <button onclick="changeMinimapPosition('bottom-left')">å·¦ä¸‹</button>
                <button onclick="changeMinimapPosition('bottom-right')">å³ä¸‹</button>
                <button onclick="toggleMinimap()">åˆ‡æ¢æ˜¾ç¤º</button>
            </div>
        </div>

        <!-- æµ‹è¯•3ï¼šå¤§å›¾å¯¼èˆª -->
        <div class="demo-box">
            <h2 class="demo-title">å¤§å›¾ç²¾ç¡®å¯¼èˆª</h2>
            <div class="demo-container">
                <ldesign-draggable 
                    id="demo3"
                    src="https://picsum.photos/id/1050/3000/2000"
                    style="width:100%;height:100%"
                    show-minimap
                    show-indicators
                    show-controls
                    initial-scale="3"
                    enable-grid
                    grid-size="30"
                ></ldesign-draggable>
            </div>
            <div class="controls">
                <button onclick="goToCorner('tl')">â†–ï¸ å·¦ä¸Šè§’</button>
                <button onclick="goToCorner('tr')">â†—ï¸ å³ä¸Šè§’</button>
                <button onclick="goToCorner('center')">ğŸ¯ ä¸­å¿ƒ</button>
                <button onclick="goToCorner('bl')">â†™ï¸ å·¦ä¸‹è§’</button>
                <button onclick="goToCorner('br')">â†˜ï¸ å³ä¸‹è§’</button>
            </div>
            <div class="tips">
                ğŸ’¡ æç¤ºï¼šç‚¹å‡»ç¼©ç•¥å›¾çš„ä¸åŒä½ç½®å¯ä»¥å¿«é€Ÿå¯¼èˆªåˆ°å¯¹åº”åŒºåŸŸ
            </div>
        </div>
    </div>

    <script>
        // åˆ‡æ¢ç¼©ç•¥å›¾ä½ç½®
        function changeMinimapPosition(position) {
            const el = document.getElementById('demo2');
            if (el) {
                el.minimapPosition = position;
            }
        }

        // åˆ‡æ¢ç¼©ç•¥å›¾æ˜¾ç¤º
        function toggleMinimap() {
            const el = document.getElementById('demo2');
            if (el) {
                el.showMinimap = !el.showMinimap;
            }
        }

        // å¯¼èˆªåˆ°è§’è½
        function goToCorner(corner) {
            const el = document.getElementById('demo3');
            if (!el) return;
            
            const state = el.getState();
            let x = 0, y = 0;
            
            // è®¡ç®—è¾¹ç•Œ
            const maxOffset = 500; // æ ¹æ®å®é™…å›¾ç‰‡å¤§å°è°ƒæ•´
            
            switch(corner) {
                case 'tl':
                    x = -maxOffset;
                    y = -maxOffset;
                    break;
                case 'tr':
                    x = maxOffset;
                    y = -maxOffset;
                    break;
                case 'bl':
                    x = -maxOffset;
                    y = maxOffset;
                    break;
                case 'br':
                    x = maxOffset;
                    y = maxOffset;
                    break;
                case 'center':
                    x = 0;
                    y = 0;
                    break;
            }
            
            el.panTo(x, y);
        }

        // ç›‘å¬å˜æ¢äº‹ä»¶
        document.addEventListener('DOMContentLoaded', () => {
            const demos = ['demo1', 'demo2', 'demo3'];
            demos.forEach(id => {
                const el = document.getElementById(id);
                if (el) {
                    el.addEventListener('ldesignTransformChange', (e) => {
                        console.log(`${id} å˜æ¢:`, e.detail);
                    });
                }
            });
        });
    </script>
</body>
</html>