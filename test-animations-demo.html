<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å›¾ç‰‡æŸ¥çœ‹å™¨ - åŠ¨ç”»ä¸Captionæ¼”ç¤º</title>
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: system-ui, -apple-system, sans-serif;
      padding: 40px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      margin: 0;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      padding: 40px;
      border-radius: 16px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    }
    h1 {
      margin: 0 0 12px;
      color: #1a202c;
      font-size: 32px;
    }
    .subtitle {
      color: #718096;
      margin-bottom: 32px;
      font-size: 16px;
    }
    .section {
      margin-bottom: 48px;
    }
    .section-title {
      font-size: 20px;
      font-weight: 600;
      color: #2d3748;
      margin-bottom: 16px;
      padding-bottom: 8px;
      border-bottom: 2px solid #e2e8f0;
    }
    .button-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 12px;
    }
    button {
      padding: 14px 20px;
      font-size: 14px;
      font-weight: 500;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
    }
    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
    }
    button:active {
      transform: translateY(0);
    }
    .note {
      background: #fff7ed;
      border-left: 4px solid #fb923c;
      padding: 16px;
      border-radius: 4px;
      margin: 20px 0;
      font-size: 14px;
      line-height: 1.6;
    }
    .note strong {
      color: #ea580c;
    }
    .feature-list {
      list-style: none;
      padding: 0;
      margin: 16px 0;
    }
    .feature-list li {
      padding: 8px 0 8px 28px;
      position: relative;
      color: #4a5568;
    }
    .feature-list li::before {
      content: 'âœ¨';
      position: absolute;
      left: 0;
    }
  </style>
  <script type="module" src="./dist/ldesign-webcomponent/ldesign-webcomponent.esm.js"></script>
</head>
<body>
  <div class="container">
    <h1>ğŸ¨ å›¾ç‰‡æŸ¥çœ‹å™¨ - å¢å¼ºæ¼”ç¤º</h1>
    <p class="subtitle">æµ‹è¯•ä¸åŒçš„åŠ¨ç”»æ•ˆæœå’Œæ ‡é¢˜æ˜¾ç¤ºä½ç½®</p>

    <div class="note">
      <strong>âœ¨ æ–°åŠŸèƒ½äº®ç‚¹ï¼š</strong>
      <ul class="feature-list">
        <li>æ”¯æŒ6ç§æ‰“å¼€/å…³é—­åŠ¨ç”»æ•ˆæœ</li>
        <li>æ”¯æŒ4ç§Captionï¼ˆæ ‡é¢˜ä¸æè¿°ï¼‰æ˜¾ç¤ºä½ç½®</li>
        <li>æ‰€æœ‰æ¨¡å¼ä¸‹éƒ½ä¼šæ˜¾ç¤ºæ ‡é¢˜å’Œæè¿°ä¿¡æ¯</li>
        <li>å¯ç‹¬ç«‹é…ç½®æ‰“å¼€å’Œå…³é—­åŠ¨ç”»çš„ç±»å‹ä¸æ—¶é•¿</li>
      </ul>
    </div>

    <!-- åŠ¨ç”»æ•ˆæœæµ‹è¯• -->
    <div class="section">
      <h2 class="section-title">ğŸ¬ åŠ¨ç”»æ•ˆæœæµ‹è¯•</h2>
      <div class="button-grid">
        <button onclick="openWithAnimation('fade')">æ·¡å…¥æ·¡å‡º (Fade)</button>
        <button onclick="openWithAnimation('zoom')">ç¼©æ”¾ (Zoom)</button>
        <button onclick="openWithAnimation('fade-zoom')">æ·¡å…¥ç¼©æ”¾ (Fade+Zoom)</button>
        <button onclick="openWithAnimation('slide-up')">ä¸Šæ»‘ (Slide Up)</button>
        <button onclick="openWithAnimation('slide-down')">ä¸‹æ»‘ (Slide Down)</button>
        <button onclick="openWithAnimation('none')">æ— åŠ¨ç”» (None)</button>
      </div>
    </div>

    <!-- Captionä½ç½®æµ‹è¯• -->
    <div class="section">
      <h2 class="section-title">ğŸ“ Captionä½ç½®æµ‹è¯•</h2>
      <div class="button-grid">
        <button onclick="openWithCaption('bottom')">åº•éƒ¨æµ®å±‚ (Bottom)</button>
        <button onclick="openWithCaption('top')">é¡¶éƒ¨æ˜¾ç¤º (Top)</button>
        <button onclick="openWithCaption('inside-bottom')">å†…åµŒåº•éƒ¨ (Inside Bottom)</button>
      </div>
    </div>

    <!-- ç»„åˆæµ‹è¯• -->
    <div class="section">
      <h2 class="section-title">ğŸš€ ç»„åˆæ•ˆæœæµ‹è¯•</h2>
      <div class="button-grid">
        <button onclick="openCustom1()">Modal + Slide Up + Top Caption</button>
        <button onclick="openCustom2()">Overlay + Zoom + Inside Bottom</button>
        <button onclick="openCustom3()">å¿«é€Ÿæ‰“å¼€ + æ…¢é€Ÿå…³é—­</button>
      </div>
    </div>
  </div>

  <!-- åŠ¨æ€åˆ›å»ºçš„æŸ¥çœ‹å™¨ -->
  <div id="viewerContainer"></div>

  <script>
    const images = [
      {
        src: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=1200',
        thumbnail: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=200',
        title: 'å£®ä¸½å±±è„‰',
        description: 'é›ªå±±è¿ç»µï¼Œäº‘é›¾ç¼­ç»•ï¼Œå±•ç°å¤§è‡ªç„¶çš„ç£…ç¤´æ°”åŠ¿'
      },
      {
        src: 'https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=1200',
        thumbnail: 'https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=200',
        title: 'æ£®æ—å°å¾„',
        description: 'é˜³å…‰ç©¿è¿‡æ ‘æ—ï¼Œæ´’åœ¨å¹½é™çš„æ—é—´å°è·¯ä¸Š'
      },
      {
        src: 'https://images.unsplash.com/photo-1501785888041-af3ef285b470?w=1200',
        thumbnail: 'https://images.unsplash.com/photo-1501785888041-af3ef285b470?w=200',
        title: 'æ—¥è½ä½™æ™–',
        description: 'å¤•é˜³è¥¿ä¸‹ï¼Œé‡‘è‰²çš„å…‰èŠ’æ˜ ç…§åœ¨æ¹–é¢ä¸Šï¼Œç¾ä¸èƒœæ”¶'
      }
    ];

    let currentViewer = null;

    function createViewer(config = {}) {
      // ç§»é™¤æ—§çš„æŸ¥çœ‹å™¨
      if (currentViewer) {
        currentViewer.remove();
      }

      // åˆ›å»ºæ–°çš„æŸ¥çœ‹å™¨
      const viewer = document.createElement('ldesign-image-viewer');
      viewer.images = JSON.stringify(images);
      viewer.startIndex = 0;
      
      // åº”ç”¨é…ç½®
      Object.assign(viewer, {
        viewerMode: 'overlay',
        showCaption: true,
        captionPosition: 'bottom',
        openAnimation: 'fade-zoom',
        closeAnimation: null,
        openDuration: 300,
        closeDuration: null,
        showThumbnails: true,
        loop: true,
        ...config
      });

      document.getElementById('viewerContainer').appendChild(viewer);
      currentViewer = viewer;

      // æ‰“å¼€æŸ¥çœ‹å™¨
      setTimeout(() => {
        viewer.visible = true;
      }, 50);

      // ç›‘å¬å…³é—­äº‹ä»¶
      viewer.addEventListener('ldesignClose', () => {
        console.log('Viewer closed');
      });
    }

    function openWithAnimation(animationType) {
      createViewer({
        openAnimation: animationType,
        closeAnimation: animationType,
        captionPosition: 'bottom'
      });
    }

    function openWithCaption(position) {
      createViewer({
        captionPosition: position,
        openAnimation: 'fade-zoom'
      });
    }

    function openCustom1() {
      createViewer({
        viewerMode: 'modal',
        panelWidth: '900px',
        panelHeight: '650px',
        openAnimation: 'slide-up',
        closeAnimation: 'slide-down',
        captionPosition: 'top',
        viewerTitle: 'å›¾ç‰‡é¢„è§ˆ - è‡ªå®šä¹‰ç»„åˆ',
        openDuration: 350,
        closeDuration: 300
      });
    }

    function openCustom2() {
      createViewer({
        viewerMode: 'overlay',
        openAnimation: 'zoom',
        closeAnimation: 'zoom',
        captionPosition: 'inside-bottom',
        openDuration: 400,
        closeDuration: 250
      });
    }

    function openCustom3() {
      createViewer({
        openAnimation: 'fade-zoom',
        closeAnimation: 'fade',
        openDuration: 200,  // å¿«é€Ÿæ‰“å¼€
        closeDuration: 800, // æ…¢é€Ÿå…³é—­
        captionPosition: 'bottom'
      });
    }
  </script>
</body>
</html>
