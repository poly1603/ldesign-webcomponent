<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modal Icon-Only Close Button Test</title>
    <script type="module" src="./src/components/modal/modal.tsx"></script>
    <script type="module" src="./src/components/button/button.tsx"></script>
    <script type="module" src="./src/components/icon/icon.tsx"></script>
    <link rel="stylesheet" href="./src/components/modal/modal.less">
    <link rel="stylesheet" href="./src/components/button/button.less">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
            padding: 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            padding: 32px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            color: #333;
            margin-bottom: 8px;
        }
        
        .subtitle {
            color: #666;
            margin-bottom: 32px;
            font-size: 14px;
        }
        
        .demo-section {
            margin-bottom: 24px;
        }
        
        .demo-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 12px;
            color: #444;
        }
        
        .demo-buttons {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }
        
        .highlight-box {
            background: #f0f9ff;
            border: 1px solid #bae6fd;
            border-radius: 8px;
            padding: 16px;
            margin: 24px 0;
        }
        
        .highlight-box h3 {
            color: #0284c7;
            margin-top: 0;
            margin-bottom: 8px;
        }
        
        .highlight-box ul {
            margin: 0;
            padding-left: 24px;
            color: #555;
        }
        
        .highlight-box li {
            margin: 4px 0;
        }
        
        /* Modal å†…å®¹æ ·å¼ */
        .modal-content {
            padding: 20px;
        }
        
        .modal-content h3 {
            margin-top: 0;
            color: #333;
        }
        
        .modal-content p {
            color: #666;
            line-height: 1.6;
        }
        
        .form-group {
            margin-bottom: 16px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 4px;
            color: #555;
            font-size: 14px;
        }
        
        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
            font-family: inherit;
        }
        
        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #7c3aed;
            box-shadow: 0 0 0 3px rgba(124, 58, 237, 0.1);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Modal å›¾æ ‡å…³é—­æŒ‰é’®æµ‹è¯•</h1>
        <p class="subtitle">ä¼˜åŒ–åçš„ Modal å³ä¸Šè§’ç›´æ¥ä½¿ç”¨å›¾æ ‡ï¼Œæ— éœ€ button åŒ…è£¹</p>
        
        <div class="highlight-box">
            <h3>âœ¨ ä¼˜åŒ–å†…å®¹</h3>
            <ul>
                <li>ç§»é™¤äº†å…³é—­æŒ‰é’®çš„ button åŒ…è£¹ï¼Œç›´æ¥ä½¿ç”¨ ldesign-icon</li>
                <li>å›¾æ ‡å°ºå¯¸æ›´å°å·§ï¼ˆä» 28px å‡å°åˆ° 24pxï¼‰</li>
                <li>æ¸©å’Œçš„æ‚¬åœæ•ˆæœï¼šä»…æ·»åŠ æ·¡æ·¡çš„ä¸»è‰²è°ƒèƒŒæ™¯</li>
                <li>ç»Ÿä¸€ä½¿ç”¨ä¸»è‰²è°ƒï¼Œä¸å†ä½¿ç”¨çº¢è‰²ç³»</li>
                <li>å¿«é€Ÿã€å¹³æ»‘çš„è¿‡æ¸¡åŠ¨ç”»ï¼ˆ0.2s easeï¼‰</li>
                <li>ä¿æŒäº†è‰¯å¥½çš„å¯è®¿é—®æ€§ï¼ˆrole="button" å’Œ tabindexï¼‰</li>
            </ul>
        </div>
        
        <div class="demo-section">
            <div class="demo-title">åŸºç¡€ Modal</div>
            <div class="demo-buttons">
                <ldesign-button type="primary" onclick="openBasicModal()">
                    æ‰“å¼€åŸºç¡€ Modal
                </ldesign-button>
                <ldesign-button type="secondary" onclick="openDraggableModal()">
                    å¯æ‹–æ‹½ Modal
                </ldesign-button>
                <ldesign-button onclick="openMaximizableModal()">
                    å¯æœ€å¤§åŒ– Modal
                </ldesign-button>
            </div>
        </div>
        
        <div class="demo-section">
            <div class="demo-title">ä¸åŒå¤§å°</div>
            <div class="demo-buttons">
                <ldesign-button type="default" onclick="openSmallModal()">
                    å°å°ºå¯¸ Modal
                </ldesign-button>
                <ldesign-button type="default" onclick="openLargeModal()">
                    å¤§å°ºå¯¸ Modal
                </ldesign-button>
                <ldesign-button type="default" onclick="openFullModal()">
                    å…¨å± Modal
                </ldesign-button>
            </div>
        </div>
    </div>
    
    <!-- Modals -->
    <ldesign-modal id="basicModal" modal-title="åŸºç¡€ Modal" closable>
        <div class="modal-content">
            <h3>å›¾æ ‡ä¼˜åŒ–æ•ˆæœå±•ç¤º</h3>
            <p>
                è¯·æ³¨æ„è§‚å¯Ÿå³ä¸Šè§’çš„å…³é—­å›¾æ ‡ï¼š
            </p>
            <ul>
                <li>ğŸ¯ ç›´æ¥ä½¿ç”¨å›¾æ ‡å…ƒç´ ï¼Œæ²¡æœ‰é¢å¤–çš„ button åŒ…è£¹</li>
                <li>ğŸ” å›¾æ ‡å°ºå¯¸æ›´å°å·§ç²¾è‡´ï¼ˆ24pxï¼‰</li>
                <li>ğŸ¨ æ‚¬åœæ—¶æ˜¾ç¤ºæ·¡é›…çš„ä¸»è‰²è°ƒèƒŒæ™¯</li>
                <li>ğŸ’œ ç»Ÿä¸€ä½¿ç”¨ä¸»è‰²è°ƒï¼Œè§†è§‰æ›´åè°ƒ</li>
                <li>âš¡ å“åº”é€Ÿåº¦æ›´å¿«ï¼Œäº¤äº’æ›´æµç•…</li>
            </ul>
        </div>
    </ldesign-modal>
    
    <ldesign-modal id="draggableModal" modal-title="å¯æ‹–æ‹½ Modal" closable draggable>
        <div class="modal-content">
            <h3>æ‹–æ‹½åŠŸèƒ½æµ‹è¯•</h3>
            <p>
                è¿™ä¸ª Modal å¯ä»¥é€šè¿‡æ ‡é¢˜æ æ‹–æ‹½ç§»åŠ¨ã€‚å›¾æ ‡åŒºåŸŸä¸ä¼šè§¦å‘æ‹–æ‹½ï¼Œç¡®ä¿ç‚¹å‡»äº¤äº’æ­£å¸¸ã€‚
            </p>
            <p>
                è¯•è¯•æ‹–åŠ¨æ ‡é¢˜æ æ¥ç§»åŠ¨çª—å£ï¼Œç‚¹å‡»å…³é—­å›¾æ ‡ä»ç„¶å¯ä»¥æ­£å¸¸å…³é—­ã€‚
            </p>
        </div>
    </ldesign-modal>
    
    <ldesign-modal id="maximizableModal" modal-title="å¯æœ€å¤§åŒ– Modal" closable maximizable draggable>
        <div class="modal-content">
            <h3>æœ€å¤§åŒ–åŠŸèƒ½æµ‹è¯•</h3>
            <p>
                è¿™ä¸ª Modal åŒæ—¶å…·æœ‰æœ€å¤§åŒ–å’Œå…³é—­å›¾æ ‡ã€‚ä¸¤ä¸ªå›¾æ ‡éƒ½ç›´æ¥ä½¿ç”¨ ldesign-icon å…ƒç´ ã€‚
            </p>
            <ul>
                <li>æœ€å¤§åŒ–å›¾æ ‡ï¼šä½¿ç”¨ä¸»é¢˜è‰²ï¼Œæ‚¬åœæ—¶æ˜¾ç¤ºæ·¡é›…èƒŒæ™¯</li>
                <li>å…³é—­å›¾æ ‡ï¼šåŒæ ·ä½¿ç”¨ä¸»é¢˜è‰²ï¼Œä¿æŒè§†è§‰ç»Ÿä¸€</li>
            </ul>
            <p>
                ç‚¹å‡»æœ€å¤§åŒ–å›¾æ ‡å¯ä»¥å…¨å±æ˜¾ç¤ºï¼Œå†æ¬¡ç‚¹å‡»æ¢å¤åŸå§‹å¤§å°ã€‚
            </p>
        </div>
    </ldesign-modal>
    
    <ldesign-modal id="smallModal" modal-title="å°å°ºå¯¸ Modal" closable width="400">
        <div class="modal-content">
            <p>è¿™æ˜¯ä¸€ä¸ªå°å°ºå¯¸çš„ Modalï¼Œå®½åº¦ä¸º 400pxã€‚</p>
        </div>
    </ldesign-modal>
    
    <ldesign-modal id="largeModal" modal-title="å¤§å°ºå¯¸ Modal" closable width="800">
        <div class="modal-content">
            <h3>è¡¨å•ç¤ºä¾‹</h3>
            <div class="form-group">
                <label>ç”¨æˆ·å</label>
                <input type="text" placeholder="è¯·è¾“å…¥ç”¨æˆ·å">
            </div>
            <div class="form-group">
                <label>é‚®ç®±</label>
                <input type="email" placeholder="è¯·è¾“å…¥é‚®ç®±">
            </div>
            <div class="form-group">
                <label>ç•™è¨€</label>
                <textarea rows="4" placeholder="è¯·è¾“å…¥ç•™è¨€å†…å®¹"></textarea>
            </div>
        </div>
    </ldesign-modal>
    
    <ldesign-modal id="fullModal" modal-title="å…¨å± Modal" closable maximizable>
        <div class="modal-content">
            <h3>å…¨å±æ¨¡å¼</h3>
            <p>è¿™ä¸ª Modal ä¼šè‡ªåŠ¨ä»¥æœ€å¤§åŒ–çŠ¶æ€æ‰“å¼€ã€‚</p>
        </div>
    </ldesign-modal>
    
    <script>
        // Modal æ§åˆ¶å‡½æ•°
        function openBasicModal() {
            const modal = document.getElementById('basicModal');
            modal.visible = true;
        }
        
        function openDraggableModal() {
            const modal = document.getElementById('draggableModal');
            modal.visible = true;
        }
        
        function openMaximizableModal() {
            const modal = document.getElementById('maximizableModal');
            modal.visible = true;
        }
        
        function openSmallModal() {
            const modal = document.getElementById('smallModal');
            modal.visible = true;
        }
        
        function openLargeModal() {
            const modal = document.getElementById('largeModal');
            modal.visible = true;
        }
        
        function openFullModal() {
            const modal = document.getElementById('fullModal');
            modal.visible = true;
            // è‡ªåŠ¨æœ€å¤§åŒ–
            setTimeout(() => {
                modal.toggleMaximize();
            }, 100);
        }
        
        // ç›‘å¬ Modal äº‹ä»¶
        document.addEventListener('DOMContentLoaded', () => {
            const modals = document.querySelectorAll('ldesign-modal');
            modals.forEach(modal => {
                modal.addEventListener('ldesignClose', (e) => {
                    console.log('Modal closed:', e.target.id);
                });
                
                modal.addEventListener('ldesignOk', (e) => {
                    console.log('Modal confirmed:', e.target.id);
                });
            });
            
            console.log('âœ… Modal å›¾æ ‡ä¼˜åŒ–å®Œæˆï¼');
            console.log('ä¸»è¦æ”¹è¿›ï¼š');
            console.log('1. ç§»é™¤äº†å…³é—­æŒ‰é’®çš„ button åŒ…è£¹');
            console.log('2. ç›´æ¥ä½¿ç”¨ ldesign-icon å…ƒç´ ');
            console.log('3. ä¼˜åŒ–äº†æ‚¬åœåŠ¨ç”»æ•ˆæœ');
            console.log('4. ä¿æŒäº†è‰¯å¥½çš„å¯è®¿é—®æ€§');
        });
    </script>
</body>
</html>